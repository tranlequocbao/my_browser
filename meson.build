# ==============================================================================
# FILE: meson.build (Root) - C·∫§U H√åNH BUILD SYSTEM CH√çNH
# ==============================================================================
#
# üìö MESON BUILD SYSTEM L√Ä G√å?
# ----------------------------
# - Meson l√† build system hi·ªán ƒë·∫°i, nhanh, d·ªÖ s·ª≠ d·ª•ng
# - Vi·∫øt c·∫•u h√¨nh b·∫±ng ng√¥n ng·ªØ ƒë∆°n gi·∫£n (kh√¥ng ph·∫£i Makefile ph·ª©c t·∫°p)
# - ƒê∆∞·ª£c d√πng ph·ªï bi·∫øn trong c√°c d·ª± √°n GNOME
#
# üìÅ C·∫§U TR√öC DIRECTORY:
# ----------------------
# my_browser/
# ‚îú‚îÄ‚îÄ meson.build        ‚Üê File n√†y (root configuration)
# ‚îú‚îÄ‚îÄ build/             ‚Üê Th∆∞ m·ª•c build (t·ª± t·∫°o b·ªüi meson)
# ‚îî‚îÄ‚îÄ app/
#     ‚îú‚îÄ‚îÄ meson.build    ‚Üê File c·∫•u h√¨nh cho th∆∞ m·ª•c app
#     ‚îî‚îÄ‚îÄ *.vala         ‚Üê Source files
#
# üîß QUY TR√åNH BUILD:
# -------------------
# 1. meson setup build     ‚Üí T·∫°o build directory v√† c·∫•u h√¨nh
# 2. ninja -C build        ‚Üí Bi√™n d·ªãch source code
# 3. ./build/app/my-browser ‚Üí Ch·∫°y ·ª©ng d·ª•ng
#
# ==============================================================================

# ------------------------------------------------------------------------------
# ƒê·ªäNH NGHƒ®A D·ª∞ √ÅN (Project Definition)
# ------------------------------------------------------------------------------
#
# project(): Khai b√°o th√¥ng tin c∆° b·∫£n v·ªÅ d·ª± √°n
#
# Tham s·ªë:
#   - 'my_browser': T√™n d·ª± √°n (c≈©ng l√† prefix cho output files)
#   - 'vala', 'c': Ng√¥n ng·ªØ s·ª≠ d·ª•ng (Vala ƒë∆∞·ª£c compile th√†nh C)
#   - version: Phi√™n b·∫£n ·ª©ng d·ª•ng (Semantic Versioning: major.minor.patch)
#   - meson_version: Phi√™n b·∫£n Meson t·ªëi thi·ªÉu c·∫ßn c√≥
#
project('my_browser', 'vala', 'c',
  version: '0.1.0',
  meson_version: '>= 0.59.0',
)

# ------------------------------------------------------------------------------
# KHAI B√ÅO DEPENDENCIES (Th∆∞ vi·ªán ph·ª• thu·ªôc)
# ------------------------------------------------------------------------------
#
# dependency(): T√¨m v√† link th∆∞ vi·ªán t·ª´ h·ªá th·ªëng
# Meson s·ª≠ d·ª•ng pkg-config ƒë·ªÉ t√¨m th∆∞ vi·ªán
#
# C√°c th∆∞ vi·ªán c·∫ßn thi·∫øt:
#
# 1. gtk4: GTK 4 - Th∆∞ vi·ªán UI c∆° b·∫£n
#    ‚Üí Cung c·∫•p: Window, Button, Entry, Box, ListBox...
#
# 2. libadwaita-1: Libadwaita - Th∆∞ vi·ªán UI GNOME
#    ‚Üí Cung c·∫•p: HeaderBar, TabView, MessageDialog, StyleManager...
#    ‚Üí Tu√¢n theo GNOME Human Interface Guidelines
#
# 3. webkitgtk-6.0: WebKitGTK 6 - Engine web
#    ‚Üí Cung c·∫•p: WebView ƒë·ªÉ hi·ªÉn th·ªã trang web
#    ‚Üí WebKit l√† engine c·ªßa Safari
#
# 4. json-glib-1.0: JSON-GLib - X·ª≠ l√Ω JSON
#    ‚Üí Cung c·∫•p: Json.Parser, Json.Builder ƒë·ªÉ ƒë·ªçc/ghi JSON
#
# 5. libsecret-1: Libsecret - Qu·∫£n l√Ω m·∫≠t kh·∫©u
#    ‚Üí Cung c·∫•p: API ƒë·ªÉ l∆∞u/l·∫•y m·∫≠t kh·∫©u t·ª´ GNOME Keyring
#
# 6. gee-0.8: Libgee - Collection library
#    ‚Üí Cung c·∫•p: HashSet, ArrayList, HashMap... (advanced collections)
#
deps = [
  dependency('gtk4'),
  dependency('libadwaita-1'),
  dependency('webkitgtk-6.0'),
  dependency('json-glib-1.0'),
  dependency('libsecret-1'),
  dependency('gee-0.8'),
]

# ------------------------------------------------------------------------------
# X·ª¨ L√ù SUBDIRECTORY
# ------------------------------------------------------------------------------
#
# subdir(): ƒêi v√†o th∆∞ m·ª•c con v√† ch·∫°y meson.build ·ªü ƒë√≥
# Bi·∫øn 'deps' ƒë∆∞·ª£c inherit xu·ªëng app/meson.build
#
subdir('app')

# ==============================================================================
# üìù H∆Ø·ªöNG D·∫™N C√ÄI ƒê·∫∂T DEPENDENCIES
# ==============================================================================
#
# FEDORA/RHEL:
#   sudo dnf install gtk4-devel libadwaita-devel webkitgtk6.0-devel \
#                    json-glib-devel libsecret-devel vala meson ninja-build
#
# UBUNTU/DEBIAN:
#   sudo apt install libgtk-4-dev libadwaita-1-dev libwebkitgtk-6.0-dev \
#                    libjson-glib-dev libsecret-1-dev valac meson ninja-build
#
# ARCH LINUX:
#   sudo pacman -S gtk4 libadwaita webkitgtk-6.0 json-glib libsecret \
#                  vala meson ninja
#
# ==============================================================================
